// Deep Sky Pressure Tanks
@PART[ds00_pres_mk2|ds00_pres_mk2adap]
{
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 0.7
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
	}
}
@PART[ds00_pres_srf1]
{
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 0.2
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
	}
}

// All Cockpits with minimum mass
@PART:HAS[#title[*Cockpit*],!MODULE[ModuleAblator],#mass[>1.9]]
{
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 0.4
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_ShieldsUp
				description__ = Shieldnir for compatible cockpits.
				techRequired__ = experimentalElectrics
				moduleIsEnabled = true
			}
		}
	}
}
// Nerf reduced if cockpit is very large
@PART:HAS[#title[*Cockpit*],#mass[>5],@MODULE[ModuleAblator]]
{
	@MODULE[ModuleAblator]
	{
		@lossConst = 0.8
	}
}

// Deep Sky Cockpits
@PART[ds00_mk2cockpit]
{
	@MODULE[ModuleAblator]
	{
		@lossConst = 0.8
	}
}
@PART[ds00_srfcockpit] // Mass limit excused
{
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 0.4
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_ShieldsUp
				description__ = Shieldnir for compatible cockpits.
				techRequired__ = experimentalElectrics
				moduleIsEnabled = true
			}
		}
	}
}

// All RCS Blocks
@PART:HAS[@MODULE[ModuleRCSFX]]
{
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 0.2
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_ShieldsUp
				description__ = Shieldnir for RCS blocks. Is not particularly effective.
				techRequired__ = experimentalElectrics
				moduleIsEnabled = true
			}
		}
	}
}

// All Airbrakes
@PART:HAS[@MODULE[ModuleAeroSurface],!MODULE[ModuleAblator]]
{
	@mass *= 1.4
	
	@MODULE[ModuleAeroSurface]:HAS[#uncasedTemp[<1600]]
	{
		// @dragCoeff *= 1.5
		// @deflectionLiftCoeff *= 1.5
		@uncasedTemp += 400 // 1200
		// @casedTemp = 2400
	}
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 0.5
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_ShieldsUp
				description__ = Shieldnir for airbrakes.
				techRequired__ = experimentalElectrics
				moduleIsEnabled = true
			}
		}
	}
}

// All Elevons with minimum mass
@PART:HAS[@MODULE[ModuleControlSurface],!MODULE[ModuleAblator],#mass[>0.1]]
{
	@mass *= 1.4
	
	@MODULE[ModuleAeroSurface]:HAS[#uncasedTemp[<1600]]
	{
		// @dragCoeff *= 1.5
		// @deflectionLiftCoeff *= 1.5
		@uncasedTemp += 400 // 1200
		// @casedTemp = 2400
	}
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 0.5
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_ShieldsUp
				description__ = Shieldnir for control surfaces.
				techRequired__ = experimentalElectrics
				moduleIsEnabled = true
			}
		}
	}
}

// Stock Adapters
// Mk3~2.5m, Mk2~2.5m
@PART:HAS[adapterMk3-Size2|adapterMk3-Size2Slant|adapterSize2-Mk2]
{
	@mass += 0.3
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 0.5
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_ShieldsUp
				description__ = Shieldnir for C7 adapters.
				techRequired__ = experimentalElectrics
				moduleIsEnabled = true
			}
		}
	}
}

// OPT Spaceplane Parts - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

// Buff for their great surface area and low heat tolerance
// OPT Legacy wings
@PART:HAS[#title[OPT-W?Legacy*]]
{
	@mass += 0.5
	@description = The older data files at OPT seem to have holes in them. One of these holes goes through the schematic and the reasoning for why this wing has the lackluster thermal properties it has. Employing a cost-effective method, rather than rebuild the wing entirely from superior material, Deep Sky's technicians carved out portions and filled the spaces with shield projectors or supporting hardware.
	
	!MODULE[ModuleAblator] {}
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 1.5
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_ShieldsUp
				description__ = Shieldnir for OPT Legacy wings.
				techRequired__ = experimentalElectrics
				moduleIsEnabled = true
			}
		}
	}
}

// OPT noses
@PART:HAS[#title[*Nose],#manufacturer[OPT?Aerospace?Division]]
{
	@mass += 0.3
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 0.5
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_ShieldsUp
				description__ = Shieldnir for OPT noses.
				techRequired__ = experimentalElectrics
				moduleIsEnabled = true
			}
		}
	}
}

// All OPT adapter/adaptor parts
@PART[*adaptor*]:HAS[#manufacturer[OPT?Aerospace?Division]]
{
	MODULE
	{
		name = ModuleAblator
		tag = DSAblator
		ablativeResource = _Shieldnir
		lossExp = -2200
		lossConst = 0.7
		pyrolysisLossFactor = 22000
		reentryConductivity = 0.01
		ablationTempThresh = 423
		charMin = 1.0
		charMax = 1.0
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = dstt_ShieldsUp
				description__ = Shieldnir for OPT fuselage adaptors.
				techRequired__ = experimentalElectrics
				moduleIsEnabled = true
			}
		}
	}
}